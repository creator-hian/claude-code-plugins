# Add Context Where Needed

Complex concepts deserve detailed explanations in remarks.

## Principle

When property behavior is non-obvious, relationships between properties exist, or special cases apply, use `<remarks>` to provide detailed context that developers need to understand.

## ✅ Good Examples

### Complex Relationship
```csharp
/// <summary>
/// Indicates whether the action was skipped
/// </summary>
/// <remarks>
/// Set to true when skipped due to unmet conditions.
/// If true, the action was not executed regardless of Success value.
/// </remarks>
public bool Skipped { get; set; }
```

**Why it's good**: The relationship between `Skipped` and `Success` is non-obvious and needs explanation.

### Complex Dictionary Property
```csharp
/// <summary>
/// Additional data generated by action execution
/// </summary>
/// <remarks>
/// Context information that can be utilized by other actions or systems.
/// Keys are action-specific and should be documented in the action handler implementation.
/// </remarks>
public Dictionary<string, object> OutputData { get; set; }
```

**Why it's good**: Explains the purpose and how the data is intended to be used.

### Korean Example with Context
```csharp
/// <summary>
/// 액션이 건너뛰어졌는지 여부
/// </summary>
/// <remarks>
/// 조건이 충족되지 않아 건너뛴 경우 true로 설정됩니다.
/// true인 경우, Success 값과 관계없이 액션이 실행되지 않았음을 의미합니다.
/// </remarks>
public bool Skipped { get; set; }
```

### Bilingual with Context
```csharp
/// <summary>
/// 실행 결과 메시지
/// </summary>
/// <remarks>
/// <strong>한글:</strong> 액션 실행 결과를 설명하는 사람이 읽을 수 있는 메시지입니다.
/// 성공 시에는 완료 메시지, 실패 시에는 오류 설명을 포함합니다.<br/>
/// <strong>English:</strong> Human-readable message describing the action execution result.
/// Contains completion message on success, or error description on failure.
/// </remarks>
public string Message { get; set; }
```

## ❌ Bad Examples (Missing Context)

### Insufficient Documentation
```csharp
/// <summary>
/// Indicates whether the action was skipped
/// </summary>
public bool Skipped { get; set; }
```

**Why it's bad**: Doesn't explain the relationship with `Success` property or when this gets set to true.

### Missing Important Details
```csharp
/// <summary>
/// Output data dictionary
/// </summary>
public Dictionary<string, object> OutputData { get; set; }
```

**Why it's bad**: Doesn't explain what the data is for or how it's used.

## When to Add Context

Add `<remarks>` when:
- **Relationships exist**: Property interacts with other properties
- **Special cases apply**: Unusual behavior or edge cases
- **Validation rules**: Non-obvious constraints or validation
- **Performance implications**: Expensive operations or side effects
- **Threading concerns**: Thread-safety or synchronization requirements
- **State dependencies**: Property value depends on system state
- **Usage patterns**: Specific ways the property should be used

## Scenarios Requiring Context

### 1. Property Relationships
```csharp
/// <summary>
/// Error message from the exception
/// </summary>
/// <remarks>
/// Only populated when Success is false and an exception occurred.
/// Will be null if action succeeded or failed without exception.
/// </remarks>
public string ErrorMessage { get; set; }
```

### 2. State Dependencies
```csharp
/// <summary>
/// Currently active animation
/// </summary>
/// <remarks>
/// Returns null if no animation is playing or if the system is not initialized.
/// Setting this value requires IsReady to be true.
/// </remarks>
public Animation CurrentAnimation { get; set; }
```

### 3. Validation Rules
```csharp
/// <summary>
/// Maximum retry attempts
/// </summary>
/// <remarks>
/// Valid range: 0-10. Values outside this range will throw ArgumentOutOfRangeException.
/// Setting to 0 disables retry mechanism entirely.
/// </remarks>
public int MaxRetries { get; set; }
```

### 4. Performance Implications
```csharp
/// <summary>
/// All registered action handlers
/// </summary>
/// <remarks>
/// This property performs a deep clone of the handlers dictionary on each access.
/// Cache the result if you need to iterate multiple times.
/// </remarks>
public Dictionary<string, IActionHandler> Handlers { get; }
```

## Balancing Simplicity and Detail

**Rule of thumb**:
- If the summary alone fully explains the property → No `<remarks>` needed
- If questions remain after reading the summary → Add `<remarks>`

**Questions to ask**:
- Would a new developer understand how to use this correctly?
- Are there edge cases or special behaviors?
- How does this interact with other parts of the system?
- What assumptions or constraints exist?

## Rationale

**Benefits of contextual documentation:**
- Prevents misuse of APIs
- Reduces debugging time
- Makes code review more effective
- Helps onboard new team members
- Documents design decisions

**IntelliSense behavior:**
- Summary shows immediately
- Remarks available on "Show more"
- Users get quick overview, details on demand
- Optimize for this two-tier display
